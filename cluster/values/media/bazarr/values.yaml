---
defaultPodOptions:
  securityContext:
    runAsUser: 568
    runAsGroup: 568
    fsGroup: 568
    fsGroupChangePolicy: "OnRootMismatch"
    supplementalGroups:
      - 65539

controllers:
  bazarr:
    type: statefulset
    strategy: Recreate
    statefulset:
      volumeClaimTemplates:
        - name: backup
          mountPath: /backup
          accessMode: ReadWriteOnce
          size: 500Mi
          storageClass: nfs-csi
    containers:
      app:
        image:
          repository: ghcr.io/onedr0p/bazarr
          tag: 1.4.2
          pullPolicy: IfNotPresent
service:
  app:
    controller: bazarr
    ports:
      http:
        port: 6767

ingress:
  main:
    hosts:
      - host: bazarr-k.bukla.hu
        paths:
          - path: /
            pathType: Prefix
            service:
              identifier: app
              port: http
persistence:
  # config:
  #   type: persistentVolumeClaim
  #   storageClass: nfs-csi
  #   accessMode: ReadWriteOnce
  #   size: 1Gi
  #   globalMounts:
  #     - path: /config
  torrent:
    type: nfs
    server: 10.20.0.21
    path: /mnt/tank/containers/torrent
  tmp:
    type: emptyDir