---
defaultPodOptions:
  securityContext:
    runAsUser: 568
    runAsGroup: 568
    fsGroup: 568
    fsGroupChangePolicy: "OnRootMismatch"
    supplementalGroups:
      - 65539

controllers:
  jellyfin:
    strategy: Recreate
    containers:
      app:
        image:
          repository: jellyfin/jellyfin
          tag: latest
          pullPolicy: IfNotPresent
service:
  app:
    controller: jellyfin
    ports:
      http:
        port: 8096

ingress:
  main:
    hosts:
      - host: jellyfin-k.bukla.hu
        paths:
          - path: /
            pathType: Prefix
            service:
              identifier: app
              port: http
persistence:
  config:
    type: persistentVolumeClaim
    retain: true
    storageClass: shared-storage
    accessMode: ReadWriteOnce
    size: 1Gi
    globalMounts:
      - path: /config
  torrent:
    existingClaim: torrent-data
    globalMounts:
      - path: /torrent
